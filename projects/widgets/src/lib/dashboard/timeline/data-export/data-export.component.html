<main hyt-dialog>
  <section i18n="@@HYT_export_data" hyt-dialog-header>Export Data</section>

  <section class="dialog-form-content" hyt-dialog-content>
    <!-- <ngx-mat-timepicker ngDefaultControl [(ngModel)]="date"></ngx-mat-timepicker> -->

    <form [formGroup]="form" class="form">
      <mat-form-field appearance="fill">
        <mat-label>Start Time</mat-label>
        <input
          matInput
          [ngxMatDatetimePicker]="startTimePicker"
          placeholder="Choose a date"
          formControlName="startTime"
          readonly
          (click)="startTimePicker.open()"
          required
        />
        <mat-datepicker-toggle matSuffix [for]="startTimePicker">
        </mat-datepicker-toggle>
        <ngx-mat-datetime-picker #startTimePicker [showSeconds]="true">
        </ngx-mat-datetime-picker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>End Time</mat-label>
        <input
          matInput
          [ngxMatDatetimePicker]="endTimePicker"
          placeholder="Choose a date"
          formControlName="endTime"
          readonly
          (click)="endTimePicker.open()"
          required
        />
        <mat-datepicker-toggle matSuffix [for]="endTimePicker">
        </mat-datepicker-toggle>
        <ngx-mat-datetime-picker #endTimePicker [showSeconds]="true">
        </ngx-mat-datetime-picker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Packet Format</mat-label>
        <mat-select formControlName="hPacketFormat" required>
          <mat-option
            *ngFor="let hPacketFormat of hPacketFormatEnum | keyvalue"
            [value]="hPacketFormat.value"
          >
            {{ hPacketFormat.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Packet Format</mat-label>
        <input
          matInput
          placeholder="Placeholder"
          formControlName="exportName"
          [maxlength]="maxLength"
          required
        />
      </mat-form-field>
    </form>

    {{ form.value | json }}

    <button
      class="hyt-base-btn mat-hyt-base-total-blue mat-raised-button"
      type="reset"
      (click)="resetForm()"
    >
      Reset
    </button>
  </section>

  <section class="dialog-footer" hyt-dialog-footer>
    <hyt-button
      class="button-confirm"
      [color]="'hyt-base-default-white'"
      (clickFn)="export()"
      [isDisabled]="form.invalid"
    >
      <mat-icon>check</mat-icon>
      <span i18n="@@HYT_export">Export</span>
    </hyt-button>

    <hyt-button
      class="button-close"
      [color]="'hyt-base-default-white'"
      (clickFn)="closeModal($event)"
    >
      <mat-icon>close</mat-icon>
      <span i18n="@@HYT_cancel">Cancel</span>
    </hyt-button>
  </section>
</main>
